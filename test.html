<!DOCTYPE html>
<html>
<head>
    <title>New Patient Registration</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-5">
    <h2>Register New Patient</h2>
    <form method="POST">
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" name="password" id="password" class="form-control" required>
            <small id="passwordHelp" class="text-danger"></small>
        </div>
        
        <script>
        document.getElementById('password').addEventListener('input', function() {
            const pwd = this.value;
            const message = [];
        
            if (pwd.length < 8) message.push("Min 8 characters.");
            if (!/[A-Z]/.test(pwd)) message.push("At least one uppercase letter.");
            if (!/[a-z]/.test(pwd)) message.push("At least one lowercase letter.");
            if (!/[0-9]/.test(pwd)) message.push("At least one number.");
            if (!/[!@#$%^&*(),.?\":{}|<>]/.test(pwd)) message.push("At least one special character.");
        
            document.getElementById('passwordHelp').textContent = message.join(" ");
        });
        </script>
        
        <div class="mb-3">
            <label>Name:</label>
            <input type="text" name="name" class="form-control" required>
        </div>
        <div class="mb-3">
            <label>Age:</label>
            <input type="number" name="age" class="form-control" required>
        </div>
        <div class="mb-3">
            <label>Sex:</label>
            <select name="sex" class="form-control" required>
                <option>M</option>
                <option>F</option>
                <option>Other</option>
            </select>
        </div>
        <div class="mb-3">
            <label>Height (in cm):</label>
            <input type="number" step="any" name="height" class="form-control">
        </div>
        <div class="mb-3">
            <label>Weight (in kg):</label>
            <input type="number" step="any" name="weight" class="form-control">
        </div>
        <div class="mb-3">
            <label>Medical History:</label>
            <textarea name="history" class="form-control"></textarea>
        </div>
        <button type="submit" class="btn btn-success">Register</button>
        <a href="{{ url_for('login') }}" class="btn btn-secondary">Back to Login</a>
    </form>
</body>
</html>
